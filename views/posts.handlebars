<div class="posts" ng-controller="postsController" ng-init="user='{{user.name}}'; secret='{{user.secret}}'">

	<div class="wrapper">
        <div class="search-panel clearfix">
			<input type="text" ng-model="searchPost" name="search" placeholder="Filter posts" class="searchPost">
			<div ng-show="logged" >
				<button type="button" class="btn btn-primary createPostBtn" data-toggle="modal" data-target="#createPost">
					<span class="glyphicon glyphicon-plus"></span> Add new post
				</button>
			</div>
		</div>



	  	<!-- Create Post -->

		<div class="modal fade modalPost" id="createPost" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<form ng-submit="createItem()">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title" id="myModalLabel">Add new post</h4>
						</div>
						<div class="modal-body">
								<input type="text" class="postTitle" ng-model="postTitle" placeholder="Enter title here"/>
								<textarea type="text" class="postDescription" ng-model="postDescription" placeholder="Enter description here"></textarea>
								<div class="searchImage clearfix">
									<div class="imageBox">
								  		<div class="image-container"><img ng-src="/images/<[postImage]>.png" alt="" err-src="/images/404.png"/></div>
									</div>
									<input type="text" class="postImage"  ng-model="postImage" placeholder="Enter image name"/>
							  	</div>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
							<input type="submit" id="submit" value="Create Post" class="btn btn-primary"/>
						</div>
					</form>
				</div>
			</div>
		</div>

		<!-- Edit Post -->

		<div class="modal fade modalPost" id="editPost" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<form ng-submit="saveItem(postIndex)">
						<div class="modal-header">
							<h4 class="modal-title" id="myModalLabel">Edit post</h4>
						</div>
						<div class="modal-body">
							<input type="hidden" name="index" ng-model="postIndex"/>
							<input type="text" class="postTitle" ng-model="postTitle2"/>
							<textarea type="text" class="postDescription" ng-model="postDescription2"></textarea>
							<div class="searchImage clearfix">
								<div class="imageBox">
						  			<div class="image-container"><img ng-src="/images/<[postImage2]>.png" alt="" err-src="/images/404.png"/></div>
							  	</div>
								<input type="text" class="postImage"  ng-model="postImage2"/>
							</div>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
							<input type="submit" id="save" value="Save" class="btn btn-primary"/>
						</div>
					</form>
				</div>
			</div>
		</div>

		<!-- Posts -->

		<div class="columns">
			<div class="post " ng-repeat="article in posts | filter:searchPost | orderBy:'item'">
				<article >
					<div class="clearfix" >
					  	<div class="image-container"><img ng-src="/images/<[article.img]>.png" alt=""/></div>
						<h2><[article.title]></h2>
					</div>
					<div>
						<p class="articleBody"><[article.newsBody]></p>
					</div>
					<a ng-show="logged" href="" class="editArticle postAdminBtns" ng-click="editItem($index)" data-toggle="modal" data-target="#editPost">
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
					</a>
					<a ng-show="logged" href="" class="removeArticle postAdminBtns" ng-click="removeItem($index)">
					  <span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
					</a>
				</article>
			</div>
		</div>

	</div>
</div>